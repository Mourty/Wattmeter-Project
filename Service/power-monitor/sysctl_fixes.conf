# Increase connection tracking table size
net.netfilter.nf_conntrack_max = 131072

# Reduce TIME_WAIT timeout from 60s to 30s
net.ipv4.tcp_fin_timeout = 30

# Allow TIME_WAIT sockets to be reused
net.ipv4.tcp_tw_reuse = 1

# Increase local port range
net.ipv4.ip_local_port_range = 10000 65535

# Increase max number of open files
fs.file-max = 65535

# TCP keepalive settings (detect dead connections faster)
net.ipv4.tcp_keepalive_time = 300
net.ipv4.tcp_keepalive_intvl = 30
net.ipv4.tcp_keepalive_probes = 3